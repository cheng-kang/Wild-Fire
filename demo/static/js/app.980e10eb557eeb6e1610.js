webpackJsonp([1],{3614:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"wf-comment-item",class:{reply:void 0!==e.comment.parentId}},[s("div",{staticClass:"wf-comment-avatar"},[s("img",{attrs:{src:e.avatarURL}})]),e._v(" "),s("div",{staticClass:"wf-comment-body"},[s("header",[s("div",{staticClass:"header-content"},[s("span",{staticClass:"username"},[s("a",{attrs:{href:"#"}},[e._v(e._s(e.authorUsername))])]),e._v(" "),void 0!==e.comment.replyToAuthor?s("span",{staticClass:"parent-link"},[e._v("‚û¶ "+e._s(e.comment.replyToAuthor))]):e._e(),e._v(" "),s("span",{staticClass:"meta"},[e._v("¬∑ "+e._s(e.$moment(e.comment.date).fromNow()))])]),e._v(" "),s("div",{staticClass:"header-menu"},[s("span",{staticClass:"menu-button",class:{active:e.isHeaderMenuShowing},on:{click:function(t){e.isHeaderMenuShowing=!e.isHeaderMenuShowing}}},[e._v("‚ñº")]),e._v(" "),s("ul",{staticClass:"menu-dropdown",class:{inactive:!e.isHeaderMenuShowing}},[e._m(0),e._v(" "),e._m(1)])])]),e._v(" "),s("div",{staticClass:"wf-comment-content"},[e._v(e._s(e.comment.content))]),e._v(" "),s("footer",[s("span",{staticClass:"like-count",class:{inactive:-1===e.likeUserIdList.indexOf(e.currentUserId)}},[e._v("\n            "+e._s(e.likeUserIdList.length||"")+"\n          ")]),e._v(" "),s("a",{class:{inactive:-1===e.likeUserIdList.indexOf(e.currentUserId),disabled:!e.user},attrs:{href:"#",id:"like-"+e.comment[".key"]},on:{click:e.toogleLikeComment}},[e._v(" üëç")]),e._v(" "),s("span",{staticClass:"separator"}),e._v(" "),s("span",{staticClass:"dislike-count inactive",class:{inactive:-1===e.dislikeUserIdList.indexOf(e.currentUserId)}},[e._v("\n            "+e._s(e.dislikeUserIdList.length||"")+"\n          ")]),e._v(" "),s("a",{class:{inactive:-1===e.dislikeUserIdList.indexOf(e.currentUserId),disabled:!e.user},attrs:{href:"#",id:"dislike-"+e.comment[".key"]},on:{click:e.toogleDislikeComment}},[e._v("üëé")]),e._v(" "),s("span",{staticClass:"bullet"},[e._v("¬∑")]),e._v(" "),s("a",{staticClass:"wf-button wf-reply-button",class:{active:e.isReplying},attrs:{href:"#"},on:{click:function(t){e.isReplying=!e.isReplying}}},[e._v("\n            "+e._s(e.isReplying?e.$i18next.t("button/cancel"):e.$i18next.t("button/reply"))+"\n          ")]),e._v(" "),e.user&&e.user.uid===e.comment.uid?[s("span",{staticClass:"bullet"},[e._v("¬∑")]),e._v(" "),s("a",{staticClass:"wf-button wf-delete-button",attrs:{href:"#"}},[e._v(e._s(e.$i18next.t("button/delete")))])]:e._e()],2),e._v(" "),e.parentComment?e._e():s("wf-reply-area",{directives:[{name:"show",rawName:"v-show",value:e.isReplying,expression:"isReplying"}],attrs:{user:e.user,"reply-to-comment":e.comment}}),e._v(" "),e.parentComment?s("wf-reply-area",{directives:[{name:"show",rawName:"v-show",value:e.isReplying,expression:"isReplying"}],attrs:{user:e.user,"reply-to-comment":e.comment,"root-comment":e.parentComment}}):e._e()],1)])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{attrs:{href:"#"}},[e._v("report")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{attrs:{href:"#"}},[e._v("ban user")])])}],a={render:i,staticRenderFns:n};t.a=a},"4v5G":function(e,t,s){"use strict";t.a={name:"wf-reply-area",props:["user","replyToComment","rootComment"],data:function(){return{shouldShowPlaceholder:!0,isReply:!1}},computed:{textarea:function(){return document.getElementById("wf-textarea-"+this._uid)}},created:function(){this.isReply=!!this.replyToComment},methods:{startEditing:function(){this.textarea.focus(),this.shouldShowPlaceholder=!1},didEndEditing:function(){""===this.textarea.textContent&&(this.shouldShowPlaceholder=!0)},postComment:function(){var e=this.textarea.textContent;this.textarea.textContent="";var t=window._wildfire.config,s=t.siteId,i=t.pageURL;if(""!==e.trim()){var n=new Date,a=null===this.user?this.$i18next.t("text/anonymousUser"):this.user.displayName,o=null===this.user?"anonymous":this.user.uid,r=n.toISOString(),l=this.isReply?null:-1*n.getTime(),c=null,d=null,u="";this.isReply&&(c=this.replyToComment[".key"],d=this.replyToComment.author),u=this.rootComment?"/sites/"+s+"/"+btoa(i)+"/comments/"+this.rootComment[".key"]+"/replies":this.isReply?"/sites/"+s+"/"+btoa(i)+"/comments/"+this.replyToComment[".key"]+"/replies":"/sites/"+s+"/"+btoa(i)+"/comments";var m={author:a,authorUid:o,date:r,order:l,content:e,replyToId:c,replyToAuthor:d};return void this.$db.ref(u).push().set(m)}}}}},"BIj/":function(e,t,s){"use strict";var i=s("fZjL"),n=s.n(i),a=s("bG/G");t.a={name:"wf-comment-card",components:{WfReplyArea:a.a},props:["comment","parentComment","user"],data:function(){return{isHeaderMenuShowing:!1,isReplying:!1,avatarURL:window._wildfire.config.defaultAvatar,authorUsername:""}},computed:{likeUserIdList:function(){return void 0===this.comment.likes?[]:n()(this.comment.likes)},dislikeUserIdList:function(){return void 0===this.comment.dislikes?[]:n()(this.comment.dislikes)},currentUserId:function(){return this.user?this.user.uid:"null"}},created:function(){this.authorUsername=this.$i18next.t("text/anonymousUser");var e=this.comment.authorUid;if(e!==window._wildfire.config.anonymousUserId){var t=this;window._wildfire.userApp.database().ref("users/"+e).once("value").then(function(e){var s=e.val();s&&(s.photoURL&&(t.avatarURL=s.photoURL),s.displayName&&(t.authorUsername=s.displayName))})}},methods:{toogleLikeComment:function(){if(console.log(this.user),this.user){var e=window._wildfire.config,t=e.siteId,s=e.pageURL,i=this.comment[".key"],n=this.user.uid;if(-1===this.likeUserIdList.indexOf(n)){var a=this.parentComment?"/sites/"+t+"/"+btoa(s)+"/comments/"+this.parentComment[".key"]+"/replies/"+i+"/likes/"+n:"/sites/"+t+"/"+btoa(s)+"/comments/"+this.comment[".key"]+"/likes/"+n;console.log(a);var o=-1!==this.dislikeUserIdList.indexOf(n);this.$db.ref(a).set((new Date).toISOString()).then(function(){o&&document.getElementById("dislike-"+i).click()})}else{var r=this.parentComment?"/sites/"+t+"/"+btoa(s)+"/comments/"+this.parentComment[".key"]+"/replies/"+i+"/likes/"+n:"/sites/"+t+"/"+btoa(s)+"/comments/"+this.comment[".key"]+"/likes/"+n;console.log(r),this.$db.ref(r).remove()}}},toogleDislikeComment:function(){if(this.user){var e=window._wildfire.config,t=e.siteId,s=e.pageURL,i=this.comment[".key"],n=this.user.uid;if(-1===this.dislikeUserIdList.indexOf(n)){var a=this.parentComment?"/sites/"+t+"/"+btoa(s)+"/comments/"+this.parentComment[".key"]+"/replies/"+i+"/dislikes/"+n:"/sites/"+t+"/"+btoa(s)+"/comments/"+this.comment[".key"]+"/dislikes/"+n,o=-1!==this.likeUserIdList.indexOf(n);this.$db.ref(a).set((new Date).toISOString()).then(function(){o&&document.getElementById("like-"+i).click()})}else{var r=this.parentComment?"/sites/"+t+"/"+btoa(s)+"/comments/"+this.parentComment[".key"]+"/replies/"+i+"/dislikes":"/sites/"+t+"/"+btoa(s)+"/comments/"+this.comment[".key"]+"/dislikes";console.log(r),this.$db.ref(r).remove()}}}}}},BdDZ:function(e,t){},L5XI:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wild-fire"}},[e._m(0),e._v(" "),s("div",{staticClass:"wf wf-main",class:{active:e.isLoaded},attrs:{id:"wild-fire"}},[s("header",{staticClass:"wf-header"},[s("nav",{staticClass:"wf-nav"},[s("div",{staticClass:"wf-nav-left"},[s("a",{staticClass:"active",attrs:{id:"wf-comment-count"}},[e._v(e._s(e.comments.length)+" "+e._s(e.$i18next.t("button/comments")))]),e._v(" "),s("a",[e._v(e._s(null===e.user?e.$i18next.t("text/anonymousUser"):e.user.displayName))])]),e._v(" "),s("div",{staticClass:"wf-nav-right"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!e.user,expression:"!user"}],on:{click:e.signInWithGitHub}},[e._v("Sign in")]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.user,expression:"user"}],on:{click:e.signOut}},[e._v("Sign out")])])])]),e._v(" "),s("section",[s("wf-reply-area",{attrs:{user:e.user}}),e._v(" "),s("ul",{staticClass:"wf-comment-group"},[e._l(e.comments,function(t){return[s("wf-comment-card",{key:t[".key"],attrs:{user:e.userData,comment:t}}),e._v(" "),t.replies&&0!==t.replies.length?s("ul",{staticClass:"wf-reply-group"},e._l(t.replies,function(i,n){return s("wf-comment-card",{key:n,attrs:{user:e.userData,comment:Object.assign({".key":n},i),"parent-comment":t}})})):e._e()]})],2)],1),e._v(" "),s("footer",{staticClass:"wf-footer"},[s("a",{attrs:{id:"add-to-your-site",href:"https://github.com/cheng-kang/wildfire",target:"blank"}},[s("img",{attrs:{src:"http://7u2sl0.com1.z0.glb.clouddn.com/wildfire/add-button.svg"}}),e._v(e._s(e.$i18next.t("text/add_wildfire_to_your_site")))]),e._v(" "),s("img",{staticClass:"wf-logo",attrs:{src:"http://7u2sl0.com1.z0.glb.clouddn.com/wildfire/wildfire-logo.svg",title:"Wildfire - Provided by Lahk"}})])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wf wf-loading-modal animate-flicker",attrs:{id:"wf-loading-modal"}},[s("img",{attrs:{src:"http://7u2sl0.com1.z0.glb.clouddn.com/wildfire/wildfire-logo.svg",title:"Wildfire - Provided by Lahk"}}),e._v(" "),s("span",[e._v("Powering Wildfire...")])])}],a={render:i,staticRenderFns:n};t.a=a},M93x:function(e,t,s){"use strict";function i(e){s("BdDZ")}var n=s("xJD8"),a=s("L5XI"),o=s("VU/8"),r=i,l=o(n.a,a.a,r,null,null);t.a=l.exports},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("7+uW"),n=s("M93x"),a=s("q6Ae"),o=s.n(a),r=s("PJh5"),l=s.n(r),c=s("1mcD"),d=s.n(c),u=s("QCdE"),m=window.wildfireConfig,f=m.database,h=void 0===f?"firebase":f,p=m.databaseConfig,v=m.siteId,w=m.pageTitle,g=void 0===w?document.title:w,y=m.pageURL,b=void 0===y?window.location.href:y,j=m.locale,_=void 0===j?"en":j;window._wildfire={currentUser:null,config:{database:h,databaseConfig:p,siteId:v,pageTitle:g,pageURL:b,locale:_,defaultAvatar:"http://7u2sl0.com1.z0.glb.clouddn.com/wildfire/firefighter-avatar.png",anonymousUserId:"anonymous"}},i.a.config.productionTip=!0,i.a.use(d.a),i.a.prototype.$i18next=u.a,i.a.prototype.$moment=l.a;var k={apiKey:"AIzaSyB39UJBnIUYAQxu3zKkpyzjTZDDfHt7lzc",authDomain:"wild-fire-ee770.firebaseapp.com",databaseURL:"https://wild-fire-ee770.firebaseio.com",projectId:"wild-fire-ee770",storageBucket:"wild-fire-ee770.appspot.com",messagingSenderId:"655484997793"};window._wildfire.userApp=o.a.initializeApp(k,"userApp"),window._wildfire.userApp.database().ref("/sites/"+v).once("value").then(function(e){if(!e.val())return void console.log("Site Exist.");console.error("Site Does Not Exist!")}),l.a.locale(_,{relativeTime:{future:"%sÂêé",past:"%sÂâç",s:"Âá†Áßí",ss:"%d Áßí",m:"1 ÂàÜÈíü",mm:"%d ÂàÜÈíü",h:"1 Â∞èÊó∂",hh:"%d Â∞èÊó∂",d:"1 Â§©",dd:"%d Â§©",M:"1 ‰∏™Êúà",MM:"%d ‰∏™Êúà",y:"1 Âπ¥",yy:"%d Âπ¥"}});var C="zh-cn"===_?"zh":_;u.a.init({lng:C,debug:!0,resources:{en:{translation:{"button/reply":"Reply","button/cancel":"Cancel","button/delete":"Delete","button/post":"Post","button/comments":"Comments","textarea/placeholder":"Join the discusstion...","text/anonymousUser":"Anoymous User","text/add_wildfire_to_your_site":"Add Wildfire to your site","error/noSiteId":'Please check your config: missing "siteId".',"error/notValidSiteId":'Please set a valid "siteId".',"error/notValidServiceProvider":'Please check your config: "sercive" should be "firebase" or "wilddo"g.',"error/noDatabaseConfig":'Please check your config: missing "databaseConfig"'}},zh:{translation:{"button/reply":"ÂõûÂ§ç","button/cancel":"ÂèñÊ∂à","button/delete":"Âà†Èô§","button/post":"ÂèëÈÄÅ","button/comments":"Êù°ËØÑËÆ∫","textarea/placeholder":"‰∏ÄËµ∑Êù•ÂèëË®ÄÂêß...","text/anonymousUser":"ÂåøÂêçÁî®Êà∑","text/add_wildfire_to_your_site":"Âú®‰Ω†ÁöÑÁΩëÁ´ô‰ΩøÁî® Wildfire","error/noSiteId":'ËØ∑Ê£ÄÊü•‰Ω†ÁöÑÈÖçÁΩÆÔºöÊâæ‰∏çÂà∞ "siteId„ÄÇ"',"error/notValidSiteId":'ËØ∑ËÆæÁΩÆ‰∏Ä‰∏™ÊúâÊïàÁöÑ "siteId„ÄÇ"',"error/notValidServiceProvider":'ËØ∑Ê£ÄÊü•‰Ω†ÁöÑÈÖçÁΩÆÔºö "sercive" Â∫îËØ•‰∏∫ "firebase" ÊàñËÄÖ "wilddog"„ÄÇ',"error/noDatabaseConfig":'ËØ∑Ê£ÄÊü•‰Ω†ÁöÑÈÖçÁΩÆÔºö Êâæ‰∏çÂà∞ "databaseConfig"'}}}},function(e,t){e?console.error(e):console.log("i18next Initialized!")});var x=o.a.initializeApp(window._wildfire.config.databaseConfig),U=x.database();i.a.prototype.$db=U,new i.a({el:"#wild-fire",template:"<App/>",components:{App:n.a}})},"bG/G":function(e,t,s){"use strict";function i(e){s("i+rc")}var n=s("4v5G"),a=s("gJ8R"),o=s("VU/8"),r=i,l=o(n.a,a.a,r,"data-v-36724412",null);t.a=l.exports},ddBF:function(e,t){},gJ8R:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wf-form",class:{"wf-reply":e.isReply}},[s("img",{staticClass:"wf-avatar",attrs:{src:e.user?e.user.photoURL:"http://7u2sl0.com1.z0.glb.clouddn.com/wildfire/firefighter-avatar.png"}}),e._v(" "),s("div",{staticClass:"wf-textarea-wrapper"},[s("span",{staticClass:"wf-textarea-placeholder",class:{inactive:!e.shouldShowPlaceholder},on:{click:e.startEditing}},[e._v("\n      "+e._s(e.$i18next.t("textarea/placeholder"))+"\n    ")]),e._v(" "),s("div",{staticClass:"wf-textarea",class:{hasContent:!e.shouldShowPlaceholder||e.isReply},attrs:{id:"wf-textarea-"+e._uid,contenteditable:""},on:{blur:e.didEndEditing}}),e._v(" "),s("div",{staticClass:"wf-post-button-wrapper",class:{inactive:e.shouldShowPlaceholder&&!e.isReply}},[s("button",{staticClass:"wf-post-button",on:{click:e.postComment}},[e._v(e._s(e.$i18next.t("button/post")))])])])])},n=[],a={render:i,staticRenderFns:n};t.a=a},"i+rc":function(e,t){},uslO:function(e,t,s){function i(e){return s(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id="uslO"},xJD8:function(e,t,s){"use strict";var i=s("q6Ae"),n=s.n(i),a=s("bG/G"),o=s("yvgf");t.a={name:"wild-fire",components:{WfReplyArea:a.a,WfCommentCard:o.a},data:function(){return{isLoaded:!1,userApp:null,firebaseGitHubProvider:null,config:null,user:null}},computed:{userData:function(){if(!this.user)return null;var e=this.user;return{uid:e.uid,photoURL:e.photoURL,displayName:e.displayName}}},watch:{user:function(e){window._wildfire.currentUser=e}},firebase:function(){return{comments:this.$db.ref("sites/"+window._wildfire.config.siteId+"/"+btoa(window._wildfire.config.pageURL)+"/comments").orderByChild("order")}},created:function(){var e=this;this.config=window._wildfire.config,this.userApp=window._wildfire.userApp,"firebase"===this.config.database&&(this.firebaseGitHubProvider=new n.a.auth.GithubAuthProvider,console.log("Firebase Github Provider Initialized.")),this.userApp.auth().onAuthStateChanged(function(t){t?e.user=t:(e.user=null,console.log("Firebase user sign out."))})},mounted:function(){this.isLoaded=!0,document.getElementById("wf-loading-modal").style.display="none"},methods:{signInWithGitHub:function(){var e=this;this.userApp.auth().signInWithPopup(this.firebaseGitHubProvider).then(function(t){var s=t.user,i=s.uid,n=s.displayName,a=s.email,o=s.photoURL;e.userApp.database().ref("users/"+i).once("value").then(function(t){console.log("snapshot",t.val());var r=t.val(),l=[];r&&(l=r.sites||[]),e.userApp.database().ref("users/"+i).set({displayName:n,email:a,photoURL:o,sites:l}),e.user=s})}).catch(function(e){var t=e.message,s=e.email;console.log(t),console.log(s)})},signOut:function(){this.user=null,"firebase"===this.config.database&&this.userApp.auth().signOut().then(function(){console.log("Firebase User Sign Out.")}).catch(function(e){console.log(e)})}}}},yvgf:function(e,t,s){"use strict";function i(e){s("ddBF")}var n=s("BIj/"),a=s("3614"),o=s("VU/8"),r=i,l=o(n.a,a.a,r,"data-v-8fd39922",null);t.a=l.exports}},["NHnr"]);
//# sourceMappingURL=app.980e10eb557eeb6e1610.js.map